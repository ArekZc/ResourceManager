!function r(e,t,n){function o(i,a){if(!t[i]){if(!e[i]){var R="function"==typeof require&&require;if(!a&&R)return R(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[i]={exports:{}};e[i][0].call(f.exports,function(r){var t=e[i][1][r];return o(t?t:r)},f,f.exports,r,e,t,n)}return t[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(r,e,t){var n=r("./src/Manager/ResourceManager"),o=r("./src/Filter/Whitelist"),s=r("./src/Filter/Blacklist"),i=r("./src/Generator/UrlGenerator"),a=r("./src/Converter/ResponseConverter"),R=r("./src/Converter/ResponseErrorConverter"),u=r("./src/Configuration/Configuration"),f=r("./src/Api/Api"),E=r("./src/Handler/ResponseHandler"),c=r("./src/Registry/ApiRegistry"),p=r("./src/Transform/RequestTransform"),h=window;h.azResource={ResourceManager:n.ResourceManager,Whitelist:o.Whitelist,Blacklist:s.Blacklist,UrlGenerator:i.UrlGenerator,ResponseConverter:a.ResponseConverter,ResponseErrorConverter:R.ResponseErrorConverter,Configuration:u.Configuration,Api:f.Api,ResponseHandler:E.ResponseHandler,ApiRegistry:c.ApiRegistry,RequestTransform:p.RequestTransform}},{"./src/Api/Api":2,"./src/Configuration/Configuration":3,"./src/Converter/ResponseConverter":4,"./src/Converter/ResponseErrorConverter":5,"./src/Filter/Blacklist":6,"./src/Filter/Whitelist":7,"./src/Generator/UrlGenerator":8,"./src/Handler/ResponseHandler":9,"./src/Manager/ResourceManager":10,"./src/Registry/ApiRegistry":11,"./src/Transform/RequestTransform":12}],2:[function(r,e,t){var n=function(){function r(r,e,t,n,o,s){this.resourceManager=r,this.http=e,this.urlGenerator=t,this.handler=n,this.transform=o,this.filter=s}return r.prototype.save=function(r){var e,t=this.urlGenerator.generate(r);return void 0!==this.filter&&(e=this.filter.filter(r)),e=this.transform.transform(e),this.http({method:"POST",url:t,data:e,transformResponse:this.getTransformResponse()})},r.prototype.update=function(r){var e,t=this.urlGenerator.generate(r);return void 0!==this.filter&&(e=this.filter.filter(r)),e=this.transform.transform(e),this.http({method:"PUT",url:t,data:e,transformResponse:this.getTransformResponse()})},r.prototype.query=function(r,e,t){void 0===t&&(t={});var n=this.urlGenerator.generate(r,e);return this.http({method:"GET",url:n,transformResponse:this.getTransformResponse()})},r.prototype.remove=function(r){var e=this.urlGenerator.generate(r);return this.http({method:"DELETE",url:e})},r.prototype.get=function(r){var e=this.urlGenerator.generate(r);return this.http({method:"GET",url:e,transformResponse:this.getTransformResponse()})},r.prototype.getTransformResponse=function(){var r=this,e=this.http.defaults.transformResponse;return e=Array.isArray(e)?e:[e],e.concat(function(e,t,n){return r.handler.handle(e,t,n)})},r}();t.Api=n},{}],3:[function(r,e,t){var n=function(){function r(r){this.apiRegistry=r}return r}();t.Configuration=n},{}],4:[function(r,e,t){var n=function(){function r(r){this.Entity=r}return r.prototype.convert=function(r){var e=new this.Entity;for(var t in e)e[t]=e[t];return e},r}();t.ResponseConverter=n},{}],5:[function(r,e,t){var n=function(){function r(){}return r.prototype.convert=function(r){return r},r}();t.ResponseErrorConverter=n},{}],6:[function(r,e,t){var n=function(){function r(r){this.fields=r}return r.prototype.filter=function(r){var e={};for(var t in r)r.hasOwnProperty(t)&&-1===this.fields.indexOf(t)&&(e[this.fields[t]]=r[this.fields[t]]);return e},r}();t.Blacklist=n},{}],7:[function(r,e,t){var n=function(){function r(r){this.fields=r}return r.prototype.filter=function(r){for(var e={},t=0;t<this.fields.length;t++)e[this.fields[t]]=r[this.fields[t]];return e},r}();t.Whitelist=n},{}],8:[function(r,e,t){var n=function(){function r(r){this.route=r}return r.prototype.generate=function(r,e){void 0===e&&(e={});for(var t=this.route.split(new RegExp(this.regExpEscape("{")+"((?:.|[\r\n])+?)(?:"+this.regExpEscape("}")+"|$)")),n=[],o=0;o<t.length;o++)o%2===1&&(t[o]=r[t[o]]),n.push(t[o]);return this.removeLastSlash(n.join(""))+this.serialize(e)},r.prototype.serialize=function(r){var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e.length>0?"?"+e.join("&"):""},r.prototype.regExpEscape=function(r){return String(r).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},r.prototype.removeLastSlash=function(r){return"/"===r[r.length-1]?r.substring(0,r.length-1):r},r}();t.UrlGenerator=n},{}],9:[function(r,e,t){var n=function(){function r(r,e){this.converter=r,this.errorConverter=e}return r.prototype.handle=function(r,e,t){var n=t>400;if(n)return this.errorConverter.convert(r.data);if(Array.isArray(r.data)){for(var o=0;o<r.data.length;o++)r.data[o]=this.converter.convert(r.data[o]);return r}return this.converter.convert(r.data)},r}();t.ResponseHandler=n},{}],10:[function(r,e,t){var n=r("../Api/Api"),o=r("../Converter/ResponseConverter"),s=r("../Converter/ResponseErrorConverter"),i=r("../Handler/ResponseHandler"),a=r("../Transform/RequestTransform");t.REFLECT_RESOURCE_NAME="ResourceName",t.REFLECT_FILTER_NAME="Filter",t.REFLECT_TRANSFORM_NAME="TransformRequest",t.REFLECT_CONVERTER_NAME="Converter",t.REFLECT_ERROR_CONVERTER_NAME="ErrorConverter",t.REFLECT_URL_GENERATOR_NAME="Url",t.REFLECT_RESPONSE_HANDLER_NAME="Handler";var R=function(){function r(r,e){this.http=r,this.configuration=e}return r.prototype.create=function(r){if(!Reflect.hasMetadata(t.REFLECT_URL_GENERATOR_NAME,r))throw new Error('"'+t.REFLECT_URL_GENERATOR_NAME+'" metadata missing for resource');var e,R,u,f,E,c;e=Reflect.getMetadata(t.REFLECT_URL_GENERATOR_NAME,r),E=Reflect.hasMetadata(t.REFLECT_CONVERTER_NAME,r)?Reflect.getMetadata(t.REFLECT_CONVERTER_NAME,r):new o.ResponseConverter(r),c=Reflect.hasMetadata(t.REFLECT_ERROR_CONVERTER_NAME,r)?Reflect.getMetadata(t.REFLECT_ERROR_CONVERTER_NAME,r):new s.ResponseErrorConverter,R=Reflect.hasMetadata(t.REFLECT_RESPONSE_HANDLER_NAME,r)?Reflect.getMetadata(t.REFLECT_RESPONSE_HANDLER_NAME,r):new i.ResponseHandler(E,c),u=Reflect.hasMetadata(t.REFLECT_TRANSFORM_NAME,r)?Reflect.getMetadata(t.REFLECT_TRANSFORM_NAME,r):new a.RequestTransform,f=Reflect.getMetadata(t.REFLECT_FILTER_NAME,r);var p;if(Reflect.hasOwnMetadata(t.REFLECT_RESOURCE_NAME,r)){var h=Reflect.getMetadata(t.REFLECT_RESOURCE_NAME,r),l=this.configuration.apiRegistry.get(h);p=new l(this,this.http,e,R,u,f)}else p=new n.Api(this,this.http,e,R,u,f);return p},r}();t.ResourceManager=R},{"../Api/Api":2,"../Converter/ResponseConverter":4,"../Converter/ResponseErrorConverter":5,"../Handler/ResponseHandler":9,"../Transform/RequestTransform":12}],11:[function(r,e,t){var n=r("../Manager/ResourceManager"),o=function(){function r(){this.resources={}}return r.prototype.add=function(r){if(void 0===r)throw new Error("Resource can't be undefined");if(!Reflect.hasMetadata(n.REFLECT_RESOURCE_NAME,r))throw new Error("Metadata missing for Resource class");return this.resources[Reflect.getMetadata(n.REFLECT_RESOURCE_NAME,r)]=r,this},r.prototype.get=function(r){return this.resources[r]},r}();t.ApiRegistry=o},{"../Manager/ResourceManager":10}],12:[function(r,e,t){var n=function(){function r(){}return r.prototype.transform=function(r){return r},r}();t.RequestTransform=n},{}]},{},[1]);
//# sourceMappingURL=resource.min.js.map
