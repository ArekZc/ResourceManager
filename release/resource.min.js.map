{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","index.ts","resource.min.js","src/Api/Api.ts","src/Configuration/Configuration.ts","src/Converter/ResponseConverter.ts","src/Converter/ResponseErrorConverter.ts","src/Filter/Blacklist.ts","src/Filter/Whitelist.ts","src/Generator/UrlGenerator.ts","src/Handler/ResponseHandler.ts","src/Manager/ResourceManager.ts","src/Registry/ApiRegistry.ts","src/Transform/RequestTransform.ts"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","ResourceManager_1","Whitelist_1","Blacklist_1","UrlGenerator_1","ResponseConverter_1","ResponseErrorConverter_1","Configuration_1","Api_1","ResponseHandler_1","ApiRegistry_1","RequestTransform_1","global","window","azResource","ResourceManager","Whitelist","Blacklist","UrlGenerator","ResponseConverter","ResponseErrorConverter","Configuration","Api","ResponseHandler","ApiRegistry","RequestTransform","./src/Api/Api","./src/Configuration/Configuration","./src/Converter/ResponseConverter","./src/Converter/ResponseErrorConverter","./src/Filter/Blacklist","./src/Filter/Whitelist","./src/Generator/UrlGenerator","./src/Handler/ResponseHandler","./src/Manager/ResourceManager","./src/Registry/ApiRegistry","./src/Transform/RequestTransform",2,"resourceManager","http","urlGenerator","handler","transform","filter","this","prototype","save","resource","data","url","generate","undefined","method","transformResponse","getTransformResponse","update","query","routeParams","queryParams","headers","remove","entity","get","_this","defaults","Array","isArray","concat","resp","status","handle",3,"apiRegisty","apiRegistry",4,"Entity","convert","object","property",5,6,"fields","result","prop","hasOwnProperty","indexOf",7,8,"route","params","matches","split","RegExp","regExpEscape","push","removeLastSlash","join","serialize","queryString","param","encodeURIComponent","expresion","String","replace","substring",9,"converter","errorConverter","response","header","isErrorResponse",10,"REFLECT_RESOURCE_NAME","REFLECT_FILTER_NAME","REFLECT_TRANSFORM_NAME","REFLECT_CONVERTER_NAME","REFLECT_ERROR_CONVERTER_NAME","REFLECT_URL_GENERATOR_NAME","REFLECT_RESPONSE_HANDLER_NAME","configuration","create","Resource","Reflect","hasMetadata","getMetadata","hasOwnMetadata","resourceName","ApiClass","../Api/Api","../Converter/ResponseConverter","../Converter/ResponseErrorConverter","../Handler/ResponseHandler","../Transform/RequestTransform",11,"resources","add","id","../Manager/ResourceManager",12],"mappings":"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","file":"resource.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {ResourceManager} from \"./src/Manager/ResourceManager\";\r\nimport {Whitelist} from \"./src/Filter/Whitelist\";\r\nimport {Blacklist} from \"./src/Filter/Blacklist\";\r\nimport {UrlGenerator} from \"./src/Generator/UrlGenerator\";\r\nimport {ResponseConverter} from \"./src/Converter/ResponseConverter\";\r\nimport {ResponseErrorConverter} from \"./src/Converter/ResponseErrorConverter\";\r\nimport {Configuration} from \"./src/Configuration/Configuration\";\r\nimport {Api} from \"./src/Api/Api\";\r\nimport {ResponseHandler} from \"./src/Handler/ResponseHandler\";\r\nimport {ApiRegistry} from \"./src/Registry/ApiRegistry\";\r\nimport {RequestTransform} from \"./src/Transform/RequestTransform\";\r\n\r\nlet global: any = window;\r\n\r\nglobal.azResource = {\r\n\tResourceManager,\r\n\tWhitelist,\r\n\tBlacklist,\r\n\tUrlGenerator,\r\n\tResponseConverter,\r\n\tResponseErrorConverter,\r\n\tConfiguration,\r\n\tApi,\r\n\tResponseHandler,\r\n\tApiRegistry,\r\n\tRequestTransform\r\n};","!function r(e,t,n){function o(i,a){if(!t[i]){if(!e[i]){var R=\"function\"==typeof require&&require;if(!a&&R)return R(i,!0);if(s)return s(i,!0);var u=new Error(\"Cannot find module '\"+i+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var f=t[i]={exports:{}};e[i][0].call(f.exports,function(r){var t=e[i][1][r];return o(t?t:r)},f,f.exports,r,e,t,n)}return t[i].exports}for(var s=\"function\"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(r,e,t){var n=r(\"./src/Manager/ResourceManager\"),o=r(\"./src/Filter/Whitelist\"),s=r(\"./src/Filter/Blacklist\"),i=r(\"./src/Generator/UrlGenerator\"),a=r(\"./src/Converter/ResponseConverter\"),R=r(\"./src/Converter/ResponseErrorConverter\"),u=r(\"./src/Configuration/Configuration\"),f=r(\"./src/Api/Api\"),E=r(\"./src/Handler/ResponseHandler\"),c=r(\"./src/Registry/ApiRegistry\"),p=r(\"./src/Transform/RequestTransform\"),h=window;h.azResource={ResourceManager:n.ResourceManager,Whitelist:o.Whitelist,Blacklist:s.Blacklist,UrlGenerator:i.UrlGenerator,ResponseConverter:a.ResponseConverter,ResponseErrorConverter:R.ResponseErrorConverter,Configuration:u.Configuration,Api:f.Api,ResponseHandler:E.ResponseHandler,ApiRegistry:c.ApiRegistry,RequestTransform:p.RequestTransform}},{\"./src/Api/Api\":2,\"./src/Configuration/Configuration\":3,\"./src/Converter/ResponseConverter\":4,\"./src/Converter/ResponseErrorConverter\":5,\"./src/Filter/Blacklist\":6,\"./src/Filter/Whitelist\":7,\"./src/Generator/UrlGenerator\":8,\"./src/Handler/ResponseHandler\":9,\"./src/Manager/ResourceManager\":10,\"./src/Registry/ApiRegistry\":11,\"./src/Transform/RequestTransform\":12}],2:[function(r,e,t){var n=function(){function r(r,e,t,n,o,s){this.resourceManager=r,this.http=e,this.urlGenerator=t,this.handler=n,this.transform=o,this.filter=s}return r.prototype.save=function(r){var e,t=this.urlGenerator.generate(r);return void 0!==this.filter&&(e=this.filter.filter(r)),e=this.transform.transform(e),this.http({method:\"POST\",url:t,data:e,transformResponse:this.getTransformResponse()})},r.prototype.update=function(r){var e,t=this.urlGenerator.generate(r);return void 0!==this.filter&&(e=this.filter.filter(r)),e=this.transform.transform(e),this.http({method:\"PUT\",url:t,data:e,transformResponse:this.getTransformResponse()})},r.prototype.query=function(r,e,t){void 0===t&&(t={});var n=this.urlGenerator.generate(r,e);return this.http({method:\"GET\",url:n,transformResponse:this.getTransformResponse()})},r.prototype.remove=function(r){var e=this.urlGenerator.generate(r);return this.http({method:\"DELETE\",url:e})},r.prototype.get=function(r){var e=this.urlGenerator.generate(r);return this.http({method:\"GET\",url:e,transformResponse:this.getTransformResponse()})},r.prototype.getTransformResponse=function(){var r=this,e=this.http.defaults.transformResponse;return e=Array.isArray(e)?e:[e],e.concat(function(e,t,n){return r.handler.handle(e,t,n)})},r}();t.Api=n},{}],3:[function(r,e,t){var n=function(){function r(r){this.apiRegistry=r}return r}();t.Configuration=n},{}],4:[function(r,e,t){var n=function(){function r(r){this.Entity=r}return r.prototype.convert=function(r){var e=new this.Entity;for(var t in e)e[t]=e[t];return e},r}();t.ResponseConverter=n},{}],5:[function(r,e,t){var n=function(){function r(){}return r.prototype.convert=function(r){return r},r}();t.ResponseErrorConverter=n},{}],6:[function(r,e,t){var n=function(){function r(r){this.fields=r}return r.prototype.filter=function(r){var e={};for(var t in r)r.hasOwnProperty(t)&&-1===this.fields.indexOf(t)&&(e[this.fields[t]]=r[this.fields[t]]);return e},r}();t.Blacklist=n},{}],7:[function(r,e,t){var n=function(){function r(r){this.fields=r}return r.prototype.filter=function(r){for(var e={},t=0;t<this.fields.length;t++)e[this.fields[t]]=r[this.fields[t]];return e},r}();t.Whitelist=n},{}],8:[function(r,e,t){var n=function(){function r(r){this.route=r}return r.prototype.generate=function(r,e){void 0===e&&(e={});for(var t=this.route.split(new RegExp(this.regExpEscape(\"{\")+\"((?:.|[\\r\\n])+?)(?:\"+this.regExpEscape(\"}\")+\"|$)\")),n=[],o=0;o<t.length;o++)o%2===1&&(t[o]=r[t[o]]),n.push(t[o]);return this.removeLastSlash(n.join(\"\"))+this.serialize(e)},r.prototype.serialize=function(r){var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(r[t]));return e.length>0?\"?\"+e.join(\"&\"):\"\"},r.prototype.regExpEscape=function(r){return String(r).replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")},r.prototype.removeLastSlash=function(r){return\"/\"===r[r.length-1]?r.substring(0,r.length-1):r},r}();t.UrlGenerator=n},{}],9:[function(r,e,t){var n=function(){function r(r,e){this.converter=r,this.errorConverter=e}return r.prototype.handle=function(r,e,t){var n=t>400;if(n)return this.errorConverter.convert(r.data);if(Array.isArray(r.data)){for(var o=0;o<r.data.length;o++)r.data[o]=this.converter.convert(r.data[o]);return r}return this.converter.convert(r.data)},r}();t.ResponseHandler=n},{}],10:[function(r,e,t){var n=r(\"../Api/Api\"),o=r(\"../Converter/ResponseConverter\"),s=r(\"../Converter/ResponseErrorConverter\"),i=r(\"../Handler/ResponseHandler\"),a=r(\"../Transform/RequestTransform\");t.REFLECT_RESOURCE_NAME=\"ResourceName\",t.REFLECT_FILTER_NAME=\"Filter\",t.REFLECT_TRANSFORM_NAME=\"TransformRequest\",t.REFLECT_CONVERTER_NAME=\"Converter\",t.REFLECT_ERROR_CONVERTER_NAME=\"ErrorConverter\",t.REFLECT_URL_GENERATOR_NAME=\"Url\",t.REFLECT_RESPONSE_HANDLER_NAME=\"Handler\";var R=function(){function r(r,e){this.http=r,this.configuration=e}return r.prototype.create=function(r){if(!Reflect.hasMetadata(t.REFLECT_URL_GENERATOR_NAME,r))throw new Error('\"'+t.REFLECT_URL_GENERATOR_NAME+'\" metadata missing for resource');var e,R,u,f,E,c;e=Reflect.getMetadata(t.REFLECT_URL_GENERATOR_NAME,r),E=Reflect.hasMetadata(t.REFLECT_CONVERTER_NAME,r)?Reflect.getMetadata(t.REFLECT_CONVERTER_NAME,r):new o.ResponseConverter(r),c=Reflect.hasMetadata(t.REFLECT_ERROR_CONVERTER_NAME,r)?Reflect.getMetadata(t.REFLECT_ERROR_CONVERTER_NAME,r):new s.ResponseErrorConverter,R=Reflect.hasMetadata(t.REFLECT_RESPONSE_HANDLER_NAME,r)?Reflect.getMetadata(t.REFLECT_RESPONSE_HANDLER_NAME,r):new i.ResponseHandler(E,c),u=Reflect.hasMetadata(t.REFLECT_TRANSFORM_NAME,r)?Reflect.getMetadata(t.REFLECT_TRANSFORM_NAME,r):new a.RequestTransform,f=Reflect.getMetadata(t.REFLECT_FILTER_NAME,r);var p;if(Reflect.hasOwnMetadata(t.REFLECT_RESOURCE_NAME,r)){var h=Reflect.getMetadata(t.REFLECT_RESOURCE_NAME,r),l=this.configuration.apiRegistry.get(h);p=new l(this,this.http,e,R,u,f)}else p=new n.Api(this,this.http,e,R,u,f);return p},r}();t.ResourceManager=R},{\"../Api/Api\":2,\"../Converter/ResponseConverter\":4,\"../Converter/ResponseErrorConverter\":5,\"../Handler/ResponseHandler\":9,\"../Transform/RequestTransform\":12}],11:[function(r,e,t){var n=r(\"../Manager/ResourceManager\"),o=function(){function r(){this.resources={}}return r.prototype.add=function(r){if(void 0===r)throw new Error(\"Resource can't be undefined\");if(!Reflect.hasMetadata(n.REFLECT_RESOURCE_NAME,r))throw new Error(\"Metadata missing for Resource class\");return this.resources[Reflect.getMetadata(n.REFLECT_RESOURCE_NAME,r)]=r,this},r.prototype.get=function(r){return this.resources[r]},r}();t.ApiRegistry=o},{\"../Manager/ResourceManager\":10}],12:[function(r,e,t){var n=function(){function r(){}return r.prototype.transform=function(r){return r},r}();t.RequestTransform=n},{}]},{},[1]);\n//# sourceMappingURL=resource.min.js.map\n","import {IApi} from \"./IApi\";\r\nimport {ResourceManager} from \"../Manager/ResourceManager\";\r\nimport {IGenerator} from \"../Generator/IGenerator\";\r\nimport {IFilter} from \"../Filter/IFilter\";\r\nimport {IHandler} from \"../Handler/IHandler\";\r\nimport {ITransform} from \"../Transform/ITransform\";\r\n\r\nexport class Api implements IApi {\r\n\t\r\n\tpublic resourceManager: ResourceManager;\r\n\t\t\r\n\tprivate http: ng.IHttpService;\r\n\t\r\n\tpublic urlGenerator: IGenerator;\r\n\t\r\n\tpublic filter: IFilter;\r\n\t\r\n\tpublic handler: IHandler;\r\n\t\r\n\tpublic transform: ITransform;\r\n\t\r\n\tconstructor(\r\n\t\tresourceManager: ResourceManager,\r\n\t\thttp: ng.IHttpService,\r\n\t\turlGenerator: IGenerator,\r\n\t\thandler: IHandler,\r\n\t\ttransform: ITransform,\r\n\t\tfilter: IFilter\r\n\t) {\r\n\t\t\r\n\t\tthis.resourceManager = resourceManager;\r\n\t\tthis.http = http;\r\n\t\tthis.urlGenerator = urlGenerator;\r\n\t\tthis.handler = handler;\r\n\t\tthis.transform = transform;\r\n\t\tthis.filter = filter;\r\n\t\t\r\n\t}\r\n\t\r\n\tsave(resource: Object): ng.IHttpPromise<any> {\r\n\t\t\r\n\t\t// Generate url from parameters\r\n\t\tlet url = this.urlGenerator.generate(resource);\r\n\t\t\r\n\t\t// Filter resource fields for request and transform them to final form\r\n\t\tlet data: Object;\r\n\t\t\r\n\t\tif (this.filter !== undefined) {\r\n\t\t\tdata = this.filter.filter(resource);\r\n\t\t}\r\n\t\tdata = this.transform.transform(data);\r\n\t\t\r\n\t\t// Make API request for resource and set serialization method\r\n\t\treturn this.http({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: data,\r\n\t\t\t\ttransformResponse: this.getTransformResponse()\r\n\t\t});\r\n\t\r\n\t}\r\n\t\r\n\tupdate(resource: Object): ng.IHttpPromise<any> {\r\n\t\t\r\n\t\t// Generate url from parameters\r\n\t\tlet url = this.urlGenerator.generate(resource);\r\n\t\t\r\n\t\t// Filter resource fields for request and transform them to final form\r\n\t\tlet data: Object;\r\n\t\t\r\n\t\tif (this.filter !== undefined) {\r\n\t\t\tdata = this.filter.filter(resource);\r\n\t\t}\r\n\t\tdata = this.transform.transform(data);\r\n\t\t\r\n\t\t// Make API request for resource and set serialization method\r\n\t\treturn this.http({\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: data,\r\n\t\t\t\ttransformResponse: this.getTransformResponse()\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tquery(routeParams: Object, queryParams: Object, headers = {}): ng.IHttpPromise<any> {\r\n\t\t\r\n\t\t// Generate url from parameters\r\n\t\tlet url = this.urlGenerator.generate(routeParams, queryParams);\r\n\t\t\r\n\t\treturn this.http({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: url,\r\n\t\t\t\ttransformResponse: this.getTransformResponse()\r\n\t\t});\r\n\t}\r\n\t\r\n\tremove(entity: any): ng.IHttpPromise<any> {\r\n\t\t\r\n\t\t// Generate url from parameters\r\n\t\tlet url = this.urlGenerator.generate(entity);\r\n\t\t\r\n\t\treturn this.http({\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\turl: url\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tget(routeParams: Object): ng.IHttpPromise<any> {\r\n\t\t\r\n\t\t// Generate url from parameters\r\n\t\tlet url = this.urlGenerator.generate(routeParams);\r\n\t\t\r\n\t\treturn this.http({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: url,\r\n\t\t\t\ttransformResponse: this.getTransformResponse()\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate getTransformResponse() {\r\n\t\t\r\n\t\tlet defaults: any = this.http.defaults.transformResponse;\r\n\t\t\r\n\t\t// Make sure is array\r\n\t\tdefaults = Array.isArray(defaults) ? defaults : [defaults];\r\n\t\t\r\n\t\t// Add conversion to request\r\n\t\treturn defaults.concat((resp, headers, status) => {\r\n\t\t\t\r\n\t\t\treturn this.handler.handle(resp, headers, status);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n}","import {IApiRegistry} from \"../Registry/IApiRegistry\";\r\n\r\nexport class Configuration {\r\n\t\r\n\tpublic apiRegistry: IApiRegistry; \r\n\t\r\n\tconstructor(apiRegisty: IApiRegistry) {\r\n\t\t\r\n\t\tthis.apiRegistry = apiRegisty;\r\n\t\r\n\t}\r\n\t\r\n}","import {IConverter} from \"./IConverter\";\r\n\r\nexport class ResponseConverter implements IConverter {\r\n\t\r\n\tprivate Entity: FunctionConstructor;\r\n\t\r\n\tconstructor(Entity: FunctionConstructor) {\r\n\t\t\r\n\t\tthis.Entity = Entity;\r\n\t\t\r\n\t}\r\n\t\r\n\tconvert(object: Object): Object {\r\n\t\t\r\n\t\tlet entity = new this.Entity();\r\n\t\t\r\n\t\tfor (let property in entity) {\r\n\t\t\t\r\n\t\t\tentity[property] = entity[property];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn entity;\r\n\t\t\r\n\t}\r\n\t\r\n}","import {IConverter} from \"./IConverter\";\r\n\r\nexport class ResponseErrorConverter implements IConverter {\r\n\t\r\n\tconvert(object: Object): Object {\r\n\t\t\r\n\t\t// For now only pass the data from API\r\n\t\t// TODO: Prepare default converstion for errors\r\n\t\treturn object;\r\n\t\t\r\n\t}\r\n\t\r\n}","import {IFilter} from \"./IFilter\"\r\n\r\nexport class Blacklist implements IFilter {\r\n\t\r\n\tprivate fields: Array<string>;\r\n\t\r\n\tconstructor(fields: Array<string>) {\r\n\t\r\n\t\tthis.fields = fields;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic filter(object: Object): Object {\r\n\t\t\r\n\t\tlet result = {};\r\n\t\t\r\n\t\tfor (let prop in object) {\r\n\t\t\t\r\n\t\t\tif (object.hasOwnProperty(prop) && this.fields.indexOf(prop) === -1) {\r\n\t\t\t\t\r\n\t\t\t\tresult[this.fields[prop]] = object[this.fields[prop]];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t\t\r\n\t}\r\n\t\r\n}","import {IFilter} from './IFilter';\r\n\r\nexport class Whitelist implements IFilter {\r\n\t\r\n\tprivate fields: Array<string>;\r\n\t\r\n\tconstructor(fields: Array<string>) {\r\n\t\t\r\n\t\tthis.fields = fields;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic filter(object: any): Object {\r\n\t\t\r\n\t\tlet result = {};\r\n\t\t\r\n\t\tfor (let i = 0; i < this.fields.length; i++) {\r\n\t\t\t\t\r\n\t\t\tresult[this.fields[i]] = object[this.fields[i]];\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t\t\r\n\t}\r\n\t\r\n}","import {IGenerator} from \"./IGenerator\";\r\n\r\nexport class UrlGenerator implements IGenerator {\r\n\t\r\n\tprivate route: string;\r\n\t\r\n\tconstructor(route: string) {\r\n\t\t\r\n\t\tthis.route = route;\r\n\t}\r\n\t\r\n\tpublic generate(entity: Object, params: Object = {}): string {\r\n\t\t\r\n\t\t// match parameters\r\n\t\tlet matches = this.route.split(\r\n\t\t\tnew RegExp(this.regExpEscape('{') +\r\n\t\t\t'((?:.|[\\r\\n])+?)(?:' +\r\n\t\t\tthis.regExpEscape('}') + '|$)')\r\n\t\t);\r\n\t\t\r\n\t\tlet result = [];\r\n\t\t\r\n\t\tfor (let i = 0; i < matches.length; i++) {\r\n\t\t\t\r\n\t\t\tif (i % 2 === 1) {\r\n\t\t\t\t\r\n\t\t\t\tmatches[i] = entity[matches[i]];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tresult.push(matches[i]);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn this.removeLastSlash(result.join('')) + this.serialize(params);\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate serialize(queryParams: Object) {\r\n\t\t\r\n\t\tvar queryString = [];\r\n\t\t\r\n\t\tfor (let param in queryParams) {\r\n\t\t\t\r\n\t\t\tif (queryParams.hasOwnProperty(param)) {\r\n\t\t\t\t\r\n\t\t\t\tqueryString.push(encodeURIComponent(param) + '=' + encodeURIComponent(queryParams[param]));\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} \r\n\t\t\r\n\t\treturn queryString.length > 0 ? '?' + queryString.join('&') : '';\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate regExpEscape(expresion: string): string {\r\n\t\t\r\n\t\treturn String(expresion).replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate removeLastSlash(route: string): string {\r\n\t\t\r\n\t\tif (route[route.length - 1] === '/') {\r\n\t\t\treturn route.substring(0, route.length - 1);\r\n\t\t}\r\n\t\t\r\n\t\treturn route;\r\n\t}\r\n\t\r\n}","import {IConverter} from \"../Converter/IConverter\";\r\nimport {IHandler} from \"./IHandler\";\r\n\r\nexport class ResponseHandler implements IHandler {\r\n\t\t\r\n\tprivate converter: IConverter;\r\n\t\r\n\tprivate errorConverter: IConverter;\r\n\t\r\n\tconstructor(converter: IConverter, errorConverter: IConverter) {\r\n\t\t\r\n\t\tthis.converter = converter;\r\n\t\tthis.errorConverter = errorConverter;\r\n\t\t\r\n\t}\r\n\t\r\n\thandle(response: any, header: Object, status: number): any {\r\n\t\t\r\n\t\tlet isErrorResponse = status > 400;\r\n\t\t\r\n\t\tif (!isErrorResponse) {\r\n\t\t\t\r\n\t\t\tif (Array.isArray(response.data)) {\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < response.data.length; i++) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tresponse.data[i] = this.converter.convert(response.data[i]);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn response;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\treturn this.converter.convert(response.data);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\treturn this.errorConverter.convert(response.data);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}","/// <reference path=\"../../node_modules/reflect-metadata/reflect-metadata.d.ts\" />\r\n\r\nimport {Configuration} from \"../Configuration/Configuration\";\r\nimport {IApi} from \"../Api/IApi\";\r\nimport {Api} from \"../Api/Api\";\r\nimport {IGenerator} from \"../Generator/IGenerator\";\r\nimport {IHandler} from \"../Handler/IHandler\";\r\nimport {ITransform} from \"../Transform/ITransform\";\r\nimport {IFilter} from \"../Filter/IFilter\";\r\nimport {IConverter} from \"../Converter/IConverter\";\r\nimport {ResponseConverter} from \"../Converter/ResponseConverter\";\r\nimport {ResponseErrorConverter} from \"../Converter/ResponseErrorConverter\";\r\nimport {ResponseHandler} from \"../Handler/ResponseHandler\";\r\nimport {RequestTransform} from \"../Transform/RequestTransform\";\r\n\r\nexport const REFLECT_RESOURCE_NAME = 'ResourceName';\r\nexport const REFLECT_FILTER_NAME = 'Filter';\r\nexport const REFLECT_TRANSFORM_NAME = 'TransformRequest';\r\nexport const REFLECT_CONVERTER_NAME = 'Converter';\r\nexport const REFLECT_ERROR_CONVERTER_NAME = 'ErrorConverter';\r\nexport const REFLECT_URL_GENERATOR_NAME = 'Url'; \r\nexport const REFLECT_RESPONSE_HANDLER_NAME = 'Handler';\r\n\r\n/**\r\n * class ResourceManager\r\n */\r\nexport class ResourceManager {\r\n\t\r\n\tprivate http: ng.IHttpService;\r\n\t\r\n\tprivate configuration: Configuration;\r\n\t\r\n\tconstructor(http: ng.IHttpService, configuration: Configuration) {\r\n\t\t\r\n\t\tthis.http = http;\r\n\t\tthis.configuration = configuration;\r\n\t\t\r\n\t}\r\n\t\r\n\tcreate(Resource: any): IApi {\r\n\t\t\r\n\t\tif (!Reflect.hasMetadata(REFLECT_URL_GENERATOR_NAME, Resource)) {\r\n\t\t\tthrow new Error(`\"${REFLECT_URL_GENERATOR_NAME}\" metadata missing for resource`);\r\n\t\t}\r\n\t\t\r\n\t\t// Read metadata to set resource constructor parameters\r\n\t\tlet urlGenerator: IGenerator,\r\n\t\t\thandler: IHandler,\r\n\t\t\ttransform: ITransform,\r\n\t\t\tfilter: IFilter,\r\n\t\t\tconverter: IConverter,\r\n\t\t\terrorConverter: IConverter;\r\n\t\t\r\n\t\turlGenerator = Reflect.getMetadata(REFLECT_URL_GENERATOR_NAME, Resource);\r\n\t\t\r\n\t\tconverter = Reflect.hasMetadata(REFLECT_CONVERTER_NAME, Resource) ?\r\n\t\t\t\t\tReflect.getMetadata(REFLECT_CONVERTER_NAME, Resource) :\r\n\t\t\t\t\tnew ResponseConverter(Resource);\r\n\t\t\t\t\t\r\n\t\terrorConverter = Reflect.hasMetadata(REFLECT_ERROR_CONVERTER_NAME, Resource) ?\r\n\t\t\t\t\t\t\tReflect.getMetadata(REFLECT_ERROR_CONVERTER_NAME, Resource) :\r\n\t\t\t\t\t\t\tnew ResponseErrorConverter();\r\n\t\t\r\n\t\thandler = Reflect.hasMetadata(REFLECT_RESPONSE_HANDLER_NAME, Resource) ?\r\n\t\t\t\t\tReflect.getMetadata(REFLECT_RESPONSE_HANDLER_NAME, Resource) :\r\n\t\t\t\t\tnew ResponseHandler(converter, errorConverter);\r\n\t\t\t\t\t\r\n\t\ttransform = Reflect.hasMetadata(REFLECT_TRANSFORM_NAME, Resource) ?\r\n\t\t\t\t\tReflect.getMetadata(REFLECT_TRANSFORM_NAME, Resource) :\r\n\t\t\t\t\tnew RequestTransform();\r\n\t\t\t\t\t\r\n\t\tfilter = Reflect.getMetadata(REFLECT_FILTER_NAME, Resource);\r\n\t\t\r\n\t\tlet resource: IApi;\r\n\t\t\r\n\t\tif (Reflect.hasOwnMetadata(REFLECT_RESOURCE_NAME, Resource)) {\r\n\t\t\t\r\n\t\t\tlet resourceName = Reflect.getMetadata(REFLECT_RESOURCE_NAME, Resource);\r\n\t\t\t\r\n\t\t\tlet ApiClass: any = this.configuration.apiRegistry.get(resourceName);\r\n\t\t\t\r\n\t\t\tresource = new ApiClass(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.http,\r\n\t\t\t\turlGenerator,\r\n\t\t\t\thandler,\r\n\t\t\t\ttransform,\r\n\t\t\t\tfilter\t\r\n\t\t\t);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tresource = new Api(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.http,\r\n\t\t\t\turlGenerator,\r\n\t\t\t\thandler,\r\n\t\t\t\ttransform,\r\n\t\t\t\tfilter\t\r\n\t\t\t);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn resource;\r\n\t\t\r\n\t}\r\n}\r\n\r\n","/// <reference path=\"../../node_modules/reflect-metadata/reflect-metadata.d.ts\" />\r\n\r\nimport {IApiRegistry} from \"./IApiRegistry\";\r\nimport {IApi} from \"../Api/IApi\";\r\nimport {REFLECT_RESOURCE_NAME} from \"../Manager/ResourceManager\";\r\n\r\nexport class ApiRegistry implements IApiRegistry {\r\n\t\r\n\tprivate resources: Object;\r\n\t\r\n\tconstructor() {\r\n\t\t\r\n\t\tthis.resources = {};\r\n\t\t\r\n\t}\r\n\t\r\n\tadd(resource: IApi): IApiRegistry {\r\n\t\t\r\n\t\tif (resource === undefined) {\r\n\t\t\tthrow new Error('Resource can\\'t be undefined');\r\n\t\t}\r\n\t\t\r\n\t\tif (!Reflect.hasMetadata(REFLECT_RESOURCE_NAME, resource)) {\r\n\t\t\tthrow new Error('Metadata missing for Resource class');\r\n\t\t}\r\n\t\t\r\n\t\tthis.resources[Reflect.getMetadata(REFLECT_RESOURCE_NAME, resource)] = resource;\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tget(id: string): FunctionConstructor {\r\n\t\t\r\n\t\treturn this.resources[id];\r\n\t\t\r\n\t}\r\n\t\r\n}","import {ITransform} from \"./ITransform\";\r\n\r\nexport class RequestTransform implements ITransform {\r\n\t\r\n\ttransform(object: any): Object {\r\n\t\t\r\n\t\treturn object;\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n"],"sourceRoot":"/source/"}